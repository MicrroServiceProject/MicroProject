{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/post.service\";\nexport class PostDetailComponent {\n  constructor(route, router, postService) {\n    this.route = route;\n    this.router = router;\n    this.postService = postService;\n    this.newComment = {\n      id: 0,\n      content: '',\n      author: '',\n      createdAt: ''\n    };\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.post$ = this.postService.getPostById(id);\n  }\n  ngOnInit() {\n    // No manual subscription needed; async pipe handles it\n  }\n  toggleLike(postId) {\n    this.postService.toggleLike(postId);\n  }\n  toggleFavorite(postId) {\n    this.postService.toggleFavorite(postId);\n  }\n  addComment(postId) {\n    if (this.newComment.content && this.newComment.author) {\n      this.postService.addComment(postId, this.newComment);\n      this.newComment = {\n        id: 0,\n        content: '',\n        author: '',\n        createdAt: ''\n      };\n    }\n  }\n  goBack() {\n    this.router.navigate(['/']);\n  }\n  trackById(index, comment) {\n    return comment.id;\n  }\n  static {\n    this.ɵfac = function PostDetailComponent_Factory(t) {\n      return new (t || PostDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PostService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PostDetailComponent,\n      selectors: [[\"app-post-detail\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 2,\n      vars: 0,\n      template: function PostDetailComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"post-detail works!\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      dependencies: [CommonModule, FormsModule, RouterModule],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","RouterModule","PostDetailComponent","constructor","route","router","postService","newComment","id","content","author","createdAt","Number","snapshot","paramMap","get","post$","getPostById","ngOnInit","toggleLike","postId","toggleFavorite","addComment","goBack","navigate","trackById","index","comment","i0","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","PostService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","template","PostDetailComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","styles"],"sources":["C:\\Users\\ghada\\Desktop\\4eme_TWIN\\projet_Microservice\\frontend\\src\\app\\components\\post-detail\\post-detail.component.ts","C:\\Users\\ghada\\Desktop\\4eme_TWIN\\projet_Microservice\\frontend\\src\\app\\components\\post-detail\\post-detail.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { PostService } from '../../services/post.service';\nimport { Post } from '../../models/post.model';\nimport { BlogComment } from '../../models/comment.model';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-post-detail',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule],\n  templateUrl: './post-detail.component.html',\n  styleUrls: ['./post-detail.component.css']\n})\nexport class PostDetailComponent implements OnInit {\n  post$: Observable<Post | undefined>;\n  newComment: BlogComment = { id: 0, content: '', author: '', createdAt: '' };\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private postService: PostService\n  ) {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.post$ = this.postService.getPostById(id);\n  }\n\n  ngOnInit(): void {\n    // No manual subscription needed; async pipe handles it\n  }\n\n  toggleLike(postId: number): void {\n    this.postService.toggleLike(postId);\n  }\n\n  toggleFavorite(postId: number): void {\n    this.postService.toggleFavorite(postId);\n  }\n\n  addComment(postId: number): void {\n    if (this.newComment.content && this.newComment.author) {\n      this.postService.addComment(postId, this.newComment);\n      this.newComment = { id: 0, content: '', author: '', createdAt: '' };\n    }\n  }\n\n  goBack(): void {\n    this.router.navigate(['/']);\n  }\n\n  trackById(index: number, comment: BlogComment): number {\n    return comment.id;\n  }\n}","<p>post-detail works!</p>\n"],"mappings":"AACA,SAASA,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAAiCC,YAAY,QAAQ,iBAAiB;;;;AAatE,OAAM,MAAOC,mBAAmB;EAI9BC,YACUC,KAAqB,EACrBC,MAAc,EACdC,WAAwB;IAFxB,KAAAF,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,WAAW,GAAXA,WAAW;IALrB,KAAAC,UAAU,GAAgB;MAAEC,EAAE,EAAE,CAAC;MAAEC,OAAO,EAAE,EAAE;MAAEC,MAAM,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAE,CAAE;IAOzE,MAAMH,EAAE,GAAGI,MAAM,CAAC,IAAI,CAACR,KAAK,CAACS,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC,CAAC;IACzD,IAAI,CAACC,KAAK,GAAG,IAAI,CAACV,WAAW,CAACW,WAAW,CAACT,EAAE,CAAC;EAC/C;EAEAU,QAAQA,CAAA;IACN;EAAA;EAGFC,UAAUA,CAACC,MAAc;IACvB,IAAI,CAACd,WAAW,CAACa,UAAU,CAACC,MAAM,CAAC;EACrC;EAEAC,cAAcA,CAACD,MAAc;IAC3B,IAAI,CAACd,WAAW,CAACe,cAAc,CAACD,MAAM,CAAC;EACzC;EAEAE,UAAUA,CAACF,MAAc;IACvB,IAAI,IAAI,CAACb,UAAU,CAACE,OAAO,IAAI,IAAI,CAACF,UAAU,CAACG,MAAM,EAAE;MACrD,IAAI,CAACJ,WAAW,CAACgB,UAAU,CAACF,MAAM,EAAE,IAAI,CAACb,UAAU,CAAC;MACpD,IAAI,CAACA,UAAU,GAAG;QAAEC,EAAE,EAAE,CAAC;QAAEC,OAAO,EAAE,EAAE;QAAEC,MAAM,EAAE,EAAE;QAAEC,SAAS,EAAE;MAAE,CAAE;;EAEvE;EAEAY,MAAMA,CAAA;IACJ,IAAI,CAAClB,MAAM,CAACmB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC7B;EAEAC,SAASA,CAACC,KAAa,EAAEC,OAAoB;IAC3C,OAAOA,OAAO,CAACnB,EAAE;EACnB;;;uBAtCWN,mBAAmB,EAAA0B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAE,MAAA,GAAAJ,EAAA,CAAAC,iBAAA,CAAAI,EAAA,CAAAC,WAAA;IAAA;EAAA;;;YAAnBhC,mBAAmB;MAAAiC,SAAA;MAAAC,UAAA;MAAAC,QAAA,GAAAT,EAAA,CAAAU,mBAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UChBhCf,EAAA,CAAAiB,cAAA,QAAG;UAAAjB,EAAA,CAAAkB,MAAA,yBAAkB;UAAAlB,EAAA,CAAAmB,YAAA,EAAI;;;qBDYbhD,YAAY,EAAEC,WAAW,EAAEC,YAAY;MAAA+C,MAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}