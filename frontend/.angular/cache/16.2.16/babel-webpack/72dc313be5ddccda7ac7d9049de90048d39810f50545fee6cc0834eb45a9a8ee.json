{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/notification.service\";\nimport * as i2 from \"@angular/common\";\nfunction NotificationComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const count_r2 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"(\", count_r2, \")\");\n  }\n}\nfunction NotificationComponent_div_6_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function NotificationComponent_div_6_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const notification_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.markAsRead(notification_r3.id));\n    });\n    i0.ɵɵtext(1, \" Marquer comme lu \");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"read\": a0\n  };\n};\nfunction NotificationComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"small\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, NotificationComponent_div_6_button_6_Template, 2, 0, \"button\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const notification_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, notification_r3.read));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(notification_r3.message);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 4, notification_r3.createdAt, \"medium\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !notification_r3.read);\n  }\n}\nexport class NotificationComponent {\n  constructor(notificationService) {\n    this.notificationService = notificationService;\n    this.notifications$ = this.notificationService.getNotifications();\n    this.notificationCount$ = this.notificationService.getNotificationCount();\n  }\n  ngOnInit() {}\n  markAsRead(id) {\n    this.notificationService.markAsRead(id).subscribe();\n  }\n  trackById(index, notification) {\n    return notification.id;\n  }\n  static {\n    this.ɵfac = function NotificationComponent_Factory(t) {\n      return new (t || NotificationComponent)(i0.ɵɵdirectiveInject(i1.NotificationService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NotificationComponent,\n      selectors: [[\"app-notification\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 8,\n      vars: 7,\n      consts: [[1, \"notification-container\"], [\"class\", \"badge\", 4, \"ngIf\"], [1, \"notification-list\"], [\"class\", \"notification-item\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"badge\"], [1, \"notification-item\", 3, \"ngClass\"], [\"class\", \"mark-read-btn\", 3, \"click\", 4, \"ngIf\"], [1, \"mark-read-btn\", 3, \"click\"]],\n      template: function NotificationComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Notifications \");\n          i0.ɵɵtemplate(3, NotificationComponent_span_3_Template, 2, 1, \"span\", 1);\n          i0.ɵɵpipe(4, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"div\", 2);\n          i0.ɵɵtemplate(6, NotificationComponent_div_6_Template, 7, 9, \"div\", 3);\n          i0.ɵɵpipe(7, \"async\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 3, ctx.notificationCount$));\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(7, 5, ctx.notifications$))(\"ngForTrackBy\", ctx.trackById);\n        }\n      },\n      dependencies: [CommonModule, i2.NgClass, i2.NgForOf, i2.NgIf, i2.AsyncPipe, i2.DatePipe],\n      styles: [\".notification-container[_ngcontent-%COMP%] {\\n    padding: 20px;\\n    max-width: 600px;\\n    margin: 0 auto;\\n  }\\n  \\n  .notification-list[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    gap: 10px;\\n  }\\n  \\n  .notification-item[_ngcontent-%COMP%] {\\n    padding: 15px;\\n    border: 1px solid #ddd;\\n    border-radius: 5px;\\n    background-color: #f9f9f9;\\n  }\\n  \\n  .notification-item.read[_ngcontent-%COMP%] {\\n    background-color: #e9ecef;\\n    opacity: 0.7;\\n  }\\n  \\n  .notification-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    margin: 0 0 5px 0;\\n  }\\n  \\n  .notification-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%] {\\n    color: #666;\\n  }\\n  \\n  .mark-read-btn[_ngcontent-%COMP%] {\\n    background-color: #007bff;\\n    color: white;\\n    border: none;\\n    padding: 5px 10px;\\n    border-radius: 3px;\\n    cursor: pointer;\\n  }\\n  \\n  .mark-read-btn[_ngcontent-%COMP%]:hover {\\n    background-color: #0056b3;\\n  }\\n  \\n  .badge[_ngcontent-%COMP%] {\\n    background-color: #dc3545;\\n    color: white;\\n    padding: 2px 8px;\\n    border-radius: 10px;\\n    font-size: 0.8em;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ub3RpZmljYXRpb24vbm90aWZpY2F0aW9uLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLGNBQWM7RUFDaEI7O0VBRUE7SUFDRSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFNBQVM7RUFDWDs7RUFFQTtJQUNFLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsa0JBQWtCO0lBQ2xCLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSxXQUFXO0VBQ2I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsa0JBQWtCO0lBQ2xCLGVBQWU7RUFDakI7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsZ0JBQWdCO0VBQ2xCIiwic291cmNlc0NvbnRlbnQiOlsiLm5vdGlmaWNhdGlvbi1jb250YWluZXIge1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIG1heC13aWR0aDogNjAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bztcclxuICB9XHJcbiAgXHJcbiAgLm5vdGlmaWNhdGlvbi1saXN0IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZ2FwOiAxMHB4O1xyXG4gIH1cclxuICBcclxuICAubm90aWZpY2F0aW9uLWl0ZW0ge1xyXG4gICAgcGFkZGluZzogMTVweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xyXG4gIH1cclxuICBcclxuICAubm90aWZpY2F0aW9uLWl0ZW0ucmVhZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllY2VmO1xyXG4gICAgb3BhY2l0eTogMC43O1xyXG4gIH1cclxuICBcclxuICAubm90aWZpY2F0aW9uLWl0ZW0gcCB7XHJcbiAgICBtYXJnaW46IDAgMCA1cHggMDtcclxuICB9XHJcbiAgXHJcbiAgLm5vdGlmaWNhdGlvbi1pdGVtIHNtYWxsIHtcclxuICAgIGNvbG9yOiAjNjY2O1xyXG4gIH1cclxuICBcclxuICAubWFyay1yZWFkLWJ0biB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YmZmO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5tYXJrLXJlYWQtYnRuOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDU2YjM7XHJcbiAgfVxyXG4gIFxyXG4gIC5iYWRnZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGMzNTQ1O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgcGFkZGluZzogMnB4IDhweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBmb250LXNpemU6IDAuOGVtO1xyXG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","count_r2","ɵɵlistener","NotificationComponent_div_6_button_6_Template_button_click_0_listener","ɵɵrestoreView","_r7","notification_r3","ɵɵnextContext","$implicit","ctx_r5","ɵɵresetView","markAsRead","id","ɵɵtemplate","NotificationComponent_div_6_button_6_Template","ɵɵproperty","ɵɵpureFunction1","_c0","read","ɵɵtextInterpolate","message","ɵɵpipeBind2","createdAt","NotificationComponent","constructor","notificationService","notifications$","getNotifications","notificationCount$","getNotificationCount","ngOnInit","subscribe","trackById","index","notification","ɵɵdirectiveInject","i1","NotificationService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","NotificationComponent_Template","rf","ctx","NotificationComponent_span_3_Template","NotificationComponent_div_6_Template","ɵɵpipeBind1","i2","NgClass","NgForOf","NgIf","AsyncPipe","DatePipe","styles"],"sources":["C:\\Users\\ghada\\Desktop\\4eme_TWIN\\projet_Microservice\\frontend\\src\\app\\components\\notification\\notification.component.ts","C:\\Users\\ghada\\Desktop\\4eme_TWIN\\projet_Microservice\\frontend\\src\\app\\components\\notification\\notification.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NotificationService } from '../../services/notification.service';\nimport { Notification } from '../../models';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-notification',\n  standalone: true,\n  imports: [CommonModule],\n  templateUrl: './notification.component.html',\n  styleUrls: ['./notification.component.css']\n})\nexport class NotificationComponent implements OnInit {\n  notifications$: Observable<Notification[]>;\n  notificationCount$: Observable<number>;\n\n  constructor(private notificationService: NotificationService) {\n    this.notifications$ = this.notificationService.getNotifications();\n    this.notificationCount$ = this.notificationService.getNotificationCount();\n  }\n\n  ngOnInit(): void {}\n\n  markAsRead(id: string): void {\n    this.notificationService.markAsRead(id).subscribe();\n  }\n\n  trackById(index: number, notification: Notification): string {\n    return notification.id;\n  }\n}","<div class=\"notification-container\">\n    <h2>Notifications <span class=\"badge\" *ngIf=\"notificationCount$ | async as count\">({{ count }})</span></h2>\n    <div class=\"notification-list\">\n      <div *ngFor=\"let notification of notifications$ | async; trackBy: trackById\" class=\"notification-item\" [ngClass]=\"{'read': notification.read}\">\n        <p>{{ notification.message }}</p>\n        <small>{{ notification.createdAt | date:'medium' }}</small>\n        <button *ngIf=\"!notification.read\" (click)=\"markAsRead(notification.id)\" class=\"mark-read-btn\">\n          Marquer comme lu\n        </button>\n      </div>\n    </div>\n  </div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}