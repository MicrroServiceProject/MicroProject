{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nexport let PostDetailComponent = class PostDetailComponent {\n  constructor(route, router, postService) {\n    this.route = route;\n    this.router = router;\n    this.postService = postService;\n    this.newComment = {\n      id: 0,\n      content: '',\n      author: '',\n      createdAt: ''\n    };\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const id = +params['id'];\n      this.postService.getPostById(id).subscribe(post => {\n        this.post = post;\n      });\n    });\n  }\n  toggleLike(postId) {\n    this.postService.toggleLike(postId);\n  }\n  toggleFavorite(postId) {\n    this.postService.toggleFavorite(postId);\n  }\n  addComment() {\n    if (this.post && this.newComment.content && this.newComment.author) {\n      this.postService.addComment(this.post.id, this.newComment);\n      this.newComment = {\n        id: 0,\n        content: '',\n        author: '',\n        createdAt: ''\n      };\n    }\n  }\n  goBack() {\n    this.router.navigate(['/']);\n  }\n};\nPostDetailComponent = __decorate([Component({\n  selector: 'app-post-detail',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    @if (post) {\n      <div class=\"post-detail\">\n        <div class=\"post-header\">\n          <span class=\"category\">{{ post.category }}</span>\n          <h1>{{ post.title }}</h1>\n          <p class=\"meta\">Par {{ post.author }} le {{ post.createdAt | date:'medium' }}</p>\n          <div class=\"post-image\" [style.backgroundImage]=\"'url(' + post.imageUrl + ')'\"></div>\n        </div>\n        <div class=\"post-content\">\n          <p>{{ post.content }}</p>\n        </div>\n        <div class=\"post-actions\">\n          <button class=\"like-btn\" (click)=\"toggleLike(post.id)\">\n            <i class=\"fas fa-heart\" [ngClass]=\"{'liked': post.isLiked}\"></i>\n            {{ post.likes }} J'aime\n          </button>\n          <button class=\"favorite-btn\" (click)=\"toggleFavorite(post.id)\">\n            <i class=\"fas fa-star\" [ngClass]=\"{'favorited': post.isFavorite}\"></i>\n            {{ post.isFavorite ? 'Retirer des favoris' : 'Ajouter aux favoris' }}\n          </button>\n        </div>\n        <div class=\"comments-section\">\n          <h2>Commentaires ({{ post.comments.length }})</h2>\n          @for (comment of post.comments; track comment.id) {\n            <div class=\"comment\">\n              <p class=\"comment-meta\">Par {{ comment.author }} le {{ comment.createdAt | date:'medium' }}</p>\n              <p>{{ comment.content }}</p>\n            </div>\n          }\n          @if (post.comments.length === 0) {\n            <p>Aucun commentaire pour le moment.</p>\n          }\n          <div class=\"comment-form\">\n            <h3>Ajouter un commentaire</h3>\n            <form (submit)=\"addComment()\">\n              <div class=\"form-group\">\n                <label for=\"comment-content\">Votre commentaire</label>\n                <textarea \n                  id=\"comment-content\" \n                  [(ngModel)]=\"newComment.content\" \n                  name=\"content\" \n                  required\n                ></textarea>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"comment-author\">Votre nom</label>\n                <input \n                  type=\"text\" \n                  id=\"comment-author\" \n                  [(ngModel)]=\"newComment.author\" \n                  name=\"author\" \n                  required\n                >\n              </div>\n              <button type=\"submit\" class=\"submit-btn\">Publier</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    } @else {\n      <div class=\"error\">\n        <h2>Article non trouvé</h2>\n        <button (click)=\"goBack()\">Retour aux articles</button>\n      </div>\n    }\n  `,\n  styles: [`\n    .post-detail {\n      max-width: 800px;\n      margin: 40px auto;\n      padding: 0 20px;\n    }\n\n    .post-header {\n      text-align: center;\n      margin-bottom: 40px;\n    }\n\n    .category {\n      display: inline-block;\n      background: #D4A017;\n      color: white;\n      padding: 5px 15px;\n      border-radius: 15px;\n      font-size: 0.9rem;\n      margin-bottom: 15px;\n    }\n\n    .post-header h1 {\n      font-family: 'Playfair Display', serif;\n      font-size: 2.8rem;\n      color: #2C3E50;\n      margin: 0 0 15px 0;\n    }\n\n    .meta {\n      font-size: 1.1rem;\n      color: #95a5a6;\n      margin-bottom: 20px;\n    }\n\n    .post-image {\n      height: 400px;\n      background-size: cover;\n      background-position: center;\n      border-radius: 12px;\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n    }\n\n    .post-content {\n      background: white;\n      padding: 30px;\n      border-radius: 12px;\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n      margin-bottom: 30px;\n      line-height: 1.8;\n      color: #333333;\n    }\n\n    .post-actions {\n      display: flex;\n      gap: 20px;\n      justify-content: center;\n      margin-bottom: 40px;\n    }\n\n    .like-btn, .favorite-btn {\n      padding: 10px 20px;\n      border-radius: 25px;\n      border: none;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 1rem;\n      transition: all 0.3s ease;\n    }\n\n    .like-btn {\n      background: #E74C3C;\n      color: white;\n    }\n\n    .like-btn i.liked {\n      color: #ffffff;\n    }\n\n    .like-btn:hover {\n      background: #c0392b;\n    }\n\n    .favorite-btn {\n      background: #D4A017;\n      color: white;\n    }\n\n    .favorite-btn i.favorited {\n      color: #ffffff;\n    }\n\n    .favorite-btn:hover {\n      background: #b88b14;\n    }\n\n    .comments-section {\n      background: white;\n      padding: 30px;\n      border-radius: 12px;\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n    }\n\n    .comments-section h2 {\n      font-family: 'Playfair Display', serif;\n      font-size: 1.8rem;\n      color: #2C3E50;\n      margin-bottom: 20px;\n    }\n\n    .comment {\n      border-bottom: 1px solid #eee;\n      padding: 15px 0;\n    }\n\n    .comment:last-child {\n      border-bottom: none;\n    }\n\n    .comment-meta {\n      font-size: 0.9rem;\n      color: #95a5a6;\n      margin-bottom: 5px;\n    }\n\n    .comment p {\n      margin: 0;\n      color: #333333;\n    }\n\n    .comment-form {\n      margin-top: 30px;\n    }\n\n    .comment-form h3 {\n      font-family: 'Playfair Display', serif;\n      font-size: 1.3rem;\n      color: #2C3E50;\n      margin-bottom: 15px;\n    }\n\n    .form-group {\n      margin-bottom: 20px;\n    }\n\n    label {\n      display: block;\n      margin-bottom: 5px;\n      color: #2C3E50;\n    }\n\n    textarea, input {\n      width: 100%;\n      padding: 10px;\n      border: 1px solid #ddd;\n      border-radius: 5px;\n      font-family: inherit;\n    }\n\n    textarea {\n      height: 120px;\n      resize: vertical;\n    }\n\n    .submit-btn {\n      padding: 12px 24px;\n      background: #D4A017;\n      color: white;\n      border: none;\n      border-radius: 25px;\n      cursor: pointer;\n      transition: all 0.3s ease;\n    }\n\n    .submit-btn:hover {\n      background: #b88b14;\n    }\n\n    .error {\n      text-align: center;\n      padding: 40px;\n    }\n\n    .error h2 {\n      font-family: 'Playfair Display', serif;\n      margin-bottom: 20px;\n      color: #E74C3C;\n    }\n\n    .error button {\n      padding: 12px 24px;\n      background: #D4A017;\n      color: white;\n      border: none;\n      border-radius: 25px;\n      cursor: pointer;\n    }\n\n    @media (max-width: 768px) {\n      .post-image {\n        height: 300px;\n      }\n\n      .post-header h1 {\n        font-size: 2rem;\n      }\n    }\n  `]\n})], PostDetailComponent);","map":{"version":3,"names":["Component","CommonModule","FormsModule","PostDetailComponent","constructor","route","router","postService","newComment","id","content","author","createdAt","ngOnInit","params","subscribe","getPostById","post","toggleLike","postId","toggleFavorite","addComment","goBack","navigate","__decorate","selector","standalone","imports","template","styles"],"sources":["C:\\Users\\ghada\\Desktop\\4eme_TWIN\\projet_Microservice\\frontend\\src\\app\\components\\post-detail\\post-detail.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { PostService } from '../../services/post.service';\nimport { Post } from '../../models/post.model';\nimport { Comment } from '../../models/comment.model';\n\n@Component({\n  selector: 'app-post-detail',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    @if (post) {\n      <div class=\"post-detail\">\n        <div class=\"post-header\">\n          <span class=\"category\">{{ post.category }}</span>\n          <h1>{{ post.title }}</h1>\n          <p class=\"meta\">Par {{ post.author }} le {{ post.createdAt | date:'medium' }}</p>\n          <div class=\"post-image\" [style.backgroundImage]=\"'url(' + post.imageUrl + ')'\"></div>\n        </div>\n        <div class=\"post-content\">\n          <p>{{ post.content }}</p>\n        </div>\n        <div class=\"post-actions\">\n          <button class=\"like-btn\" (click)=\"toggleLike(post.id)\">\n            <i class=\"fas fa-heart\" [ngClass]=\"{'liked': post.isLiked}\"></i>\n            {{ post.likes }} J'aime\n          </button>\n          <button class=\"favorite-btn\" (click)=\"toggleFavorite(post.id)\">\n            <i class=\"fas fa-star\" [ngClass]=\"{'favorited': post.isFavorite}\"></i>\n            {{ post.isFavorite ? 'Retirer des favoris' : 'Ajouter aux favoris' }}\n          </button>\n        </div>\n        <div class=\"comments-section\">\n          <h2>Commentaires ({{ post.comments.length }})</h2>\n          @for (comment of post.comments; track comment.id) {\n            <div class=\"comment\">\n              <p class=\"comment-meta\">Par {{ comment.author }} le {{ comment.createdAt | date:'medium' }}</p>\n              <p>{{ comment.content }}</p>\n            </div>\n          }\n          @if (post.comments.length === 0) {\n            <p>Aucun commentaire pour le moment.</p>\n          }\n          <div class=\"comment-form\">\n            <h3>Ajouter un commentaire</h3>\n            <form (submit)=\"addComment()\">\n              <div class=\"form-group\">\n                <label for=\"comment-content\">Votre commentaire</label>\n                <textarea \n                  id=\"comment-content\" \n                  [(ngModel)]=\"newComment.content\" \n                  name=\"content\" \n                  required\n                ></textarea>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"comment-author\">Votre nom</label>\n                <input \n                  type=\"text\" \n                  id=\"comment-author\" \n                  [(ngModel)]=\"newComment.author\" \n                  name=\"author\" \n                  required\n                >\n              </div>\n              <button type=\"submit\" class=\"submit-btn\">Publier</button>\n            </form>\n          </div>\n        </div>\n      </div>\n    } @else {\n      <div class=\"error\">\n        <h2>Article non trouvé</h2>\n        <button (click)=\"goBack()\">Retour aux articles</button>\n      </div>\n    }\n  `,\n  styles: [`\n    .post-detail {\n      max-width: 800px;\n      margin: 40px auto;\n      padding: 0 20px;\n    }\n\n    .post-header {\n      text-align: center;\n      margin-bottom: 40px;\n    }\n\n    .category {\n      display: inline-block;\n      background: #D4A017;\n      color: white;\n      padding: 5px 15px;\n      border-radius: 15px;\n      font-size: 0.9rem;\n      margin-bottom: 15px;\n    }\n\n    .post-header h1 {\n      font-family: 'Playfair Display', serif;\n      font-size: 2.8rem;\n      color: #2C3E50;\n      margin: 0 0 15px 0;\n    }\n\n    .meta {\n      font-size: 1.1rem;\n      color: #95a5a6;\n      margin-bottom: 20px;\n    }\n\n    .post-image {\n      height: 400px;\n      background-size: cover;\n      background-position: center;\n      border-radius: 12px;\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n    }\n\n    .post-content {\n      background: white;\n      padding: 30px;\n      border-radius: 12px;\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n      margin-bottom: 30px;\n      line-height: 1.8;\n      color: #333333;\n    }\n\n    .post-actions {\n      display: flex;\n      gap: 20px;\n      justify-content: center;\n      margin-bottom: 40px;\n    }\n\n    .like-btn, .favorite-btn {\n      padding: 10px 20px;\n      border-radius: 25px;\n      border: none;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 1rem;\n      transition: all 0.3s ease;\n    }\n\n    .like-btn {\n      background: #E74C3C;\n      color: white;\n    }\n\n    .like-btn i.liked {\n      color: #ffffff;\n    }\n\n    .like-btn:hover {\n      background: #c0392b;\n    }\n\n    .favorite-btn {\n      background: #D4A017;\n      color: white;\n    }\n\n    .favorite-btn i.favorited {\n      color: #ffffff;\n    }\n\n    .favorite-btn:hover {\n      background: #b88b14;\n    }\n\n    .comments-section {\n      background: white;\n      padding: 30px;\n      border-radius: 12px;\n      box-shadow: 0 4px 15px rgba(0,0,0,0.1);\n    }\n\n    .comments-section h2 {\n      font-family: 'Playfair Display', serif;\n      font-size: 1.8rem;\n      color: #2C3E50;\n      margin-bottom: 20px;\n    }\n\n    .comment {\n      border-bottom: 1px solid #eee;\n      padding: 15px 0;\n    }\n\n    .comment:last-child {\n      border-bottom: none;\n    }\n\n    .comment-meta {\n      font-size: 0.9rem;\n      color: #95a5a6;\n      margin-bottom: 5px;\n    }\n\n    .comment p {\n      margin: 0;\n      color: #333333;\n    }\n\n    .comment-form {\n      margin-top: 30px;\n    }\n\n    .comment-form h3 {\n      font-family: 'Playfair Display', serif;\n      font-size: 1.3rem;\n      color: #2C3E50;\n      margin-bottom: 15px;\n    }\n\n    .form-group {\n      margin-bottom: 20px;\n    }\n\n    label {\n      display: block;\n      margin-bottom: 5px;\n      color: #2C3E50;\n    }\n\n    textarea, input {\n      width: 100%;\n      padding: 10px;\n      border: 1px solid #ddd;\n      border-radius: 5px;\n      font-family: inherit;\n    }\n\n    textarea {\n      height: 120px;\n      resize: vertical;\n    }\n\n    .submit-btn {\n      padding: 12px 24px;\n      background: #D4A017;\n      color: white;\n      border: none;\n      border-radius: 25px;\n      cursor: pointer;\n      transition: all 0.3s ease;\n    }\n\n    .submit-btn:hover {\n      background: #b88b14;\n    }\n\n    .error {\n      text-align: center;\n      padding: 40px;\n    }\n\n    .error h2 {\n      font-family: 'Playfair Display', serif;\n      margin-bottom: 20px;\n      color: #E74C3C;\n    }\n\n    .error button {\n      padding: 12px 24px;\n      background: #D4A017;\n      color: white;\n      border: none;\n      border-radius: 25px;\n      cursor: pointer;\n    }\n\n    @media (max-width: 768px) {\n      .post-image {\n        height: 300px;\n      }\n\n      .post-header h1 {\n        font-size: 2rem;\n      }\n    }\n  `]\n})\nexport class PostDetailComponent implements OnInit {\n  post: Post | undefined;\n  newComment: Comment = { id: 0, content: '', author: '', createdAt: '' };\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private postService: PostService\n  ) {}\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      const id = +params['id'];\n      this.postService.getPostById(id).subscribe(post => {\n        this.post = post;\n      });\n    });\n  }\n\n  toggleLike(postId: number) {\n    this.postService.toggleLike(postId);\n  }\n\n  toggleFavorite(postId: number) {\n    this.postService.toggleFavorite(postId);\n  }\n\n  addComment() {\n    if (this.post && this.newComment.content && this.newComment.author) {\n      this.postService.addComment(this.post.id, this.newComment);\n      this.newComment = { id: 0, content: '', author: '', createdAt: '' };\n    }\n  }\n\n  goBack() {\n    this.router.navigate(['/']);\n  }\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAE9C,SAASC,WAAW,QAAQ,gBAAgB;AA+RrC,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAI9BC,YACUC,KAAqB,EACrBC,MAAc,EACdC,WAAwB;IAFxB,KAAAF,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,WAAW,GAAXA,WAAW;IALrB,KAAAC,UAAU,GAAY;MAAEC,EAAE,EAAE,CAAC;MAAEC,OAAO,EAAE,EAAE;MAAEC,MAAM,EAAE,EAAE;MAAEC,SAAS,EAAE;IAAE,CAAE;EAMpE;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACS,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACnC,MAAML,EAAE,GAAG,CAACK,MAAM,CAAC,IAAI,CAAC;MACxB,IAAI,CAACP,WAAW,CAACS,WAAW,CAACP,EAAE,CAAC,CAACM,SAAS,CAACE,IAAI,IAAG;QAChD,IAAI,CAACA,IAAI,GAAGA,IAAI;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEAC,UAAUA,CAACC,MAAc;IACvB,IAAI,CAACZ,WAAW,CAACW,UAAU,CAACC,MAAM,CAAC;EACrC;EAEAC,cAAcA,CAACD,MAAc;IAC3B,IAAI,CAACZ,WAAW,CAACa,cAAc,CAACD,MAAM,CAAC;EACzC;EAEAE,UAAUA,CAAA;IACR,IAAI,IAAI,CAACJ,IAAI,IAAI,IAAI,CAACT,UAAU,CAACE,OAAO,IAAI,IAAI,CAACF,UAAU,CAACG,MAAM,EAAE;MAClE,IAAI,CAACJ,WAAW,CAACc,UAAU,CAAC,IAAI,CAACJ,IAAI,CAACR,EAAE,EAAE,IAAI,CAACD,UAAU,CAAC;MAC1D,IAAI,CAACA,UAAU,GAAG;QAAEC,EAAE,EAAE,CAAC;QAAEC,OAAO,EAAE,EAAE;QAAEC,MAAM,EAAE,EAAE;QAAEC,SAAS,EAAE;MAAE,CAAE;;EAEvE;EAEAU,MAAMA,CAAA;IACJ,IAAI,CAAChB,MAAM,CAACiB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC7B;CACD;AArCYpB,mBAAmB,GAAAqB,UAAA,EA1R/BxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,iBAAiB;EAC3BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAAC1B,YAAY,EAAEC,WAAW,CAAC;EACpC0B,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAkET;EACDC,MAAM,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiNR;CACF,CAAC,C,EACW1B,mBAAmB,CAqC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}