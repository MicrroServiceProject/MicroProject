{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ghada/Desktop/4eme_TWIN/projet_Microservice/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/post.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nexport class PostFormComponent {\n  constructor(route, router, postService) {\n    this.route = route;\n    this.router = router;\n    this.postService = postService;\n    this.post = {\n      id: 0,\n      title: '',\n      content: '',\n      imageUrl: '',\n      author: '',\n      createdAt: '',\n      category: 'Peinture',\n      likes: 0,\n      isLiked: false,\n      isFavorite: false,\n      comments: [],\n      views: 0\n    };\n    this.isEditMode = false;\n    this.isSubmitting = false;\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.isEditMode = true;\n      this.post$ = this.postService.getPostById(+id);\n    }\n  }\n  ngOnInit() {\n    if (this.post$ && this.isEditMode) {\n      this.post$.subscribe(post => {\n        if (post) {\n          this.post = {\n            ...post\n          };\n        }\n      });\n    }\n  }\n  savePost() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.isFormValid() && !_this.isSubmitting) {\n        _this.isSubmitting = true;\n        try {\n          if (_this.isEditMode) {\n            yield _this.postService.updatePost(_this.post.id, _this.post);\n          } else {\n            _this.post.createdAt = new Date().toISOString();\n            yield _this.postService.addPost(_this.post);\n          }\n          _this.router.navigate(['/']);\n        } catch (error) {\n          console.error('Error saving post:', error);\n        } finally {\n          _this.isSubmitting = false;\n        }\n      }\n    })();\n  }\n  cancel() {\n    this.router.navigate(['/']);\n  }\n  isFormValid() {\n    return !!this.post.title && !!this.post.content && !!this.post.imageUrl && !!this.post.author && !!this.post.category;\n  }\n  static {\n    this.ɵfac = function PostFormComponent_Factory(t) {\n      return new (t || PostFormComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PostService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: PostFormComponent,\n      selectors: [[\"app-post-form\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 41,\n      vars: 16,\n      consts: [[1, \"form-container\"], [1, \"fas\", 3, \"ngClass\"], [3, \"ngSubmit\"], [\"postForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"title\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"required\", \"\", \"placeholder\", \"Entrez le titre de l'article\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"for\", \"content\"], [\"id\", \"content\", \"name\", \"content\", \"required\", \"\", \"placeholder\", \"R\\u00E9digez le contenu de votre article ici...\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"for\", \"imageUrl\"], [\"type\", \"text\", \"id\", \"imageUrl\", \"name\", \"imageUrl\", \"required\", \"\", \"placeholder\", \"Collez l'URL de l'image\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"for\", \"category\"], [\"id\", \"category\", \"name\", \"category\", \"required\", \"\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [\"value\", \"Peinture\"], [\"value\", \"Sculpture\"], [\"value\", \"Photographie\"], [\"value\", \"Art Num\\u00E9rique\"], [\"for\", \"author\"], [\"type\", \"text\", \"id\", \"author\", \"name\", \"author\", \"required\", \"\", \"placeholder\", \"Entrez votre nom\", 3, \"ngModel\", \"disabled\", \"ngModelChange\"], [1, \"form-actions\"], [\"type\", \"submit\", 1, \"save-btn\", 3, \"disabled\", \"title\"], [1, \"fas\", \"fa-save\"], [\"type\", \"button\", \"title\", \"Annuler et retourner\", 1, \"cancel-btn\", 3, \"disabled\", \"click\"], [1, \"fas\", \"fa-times\"]],\n      template: function PostFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵelement(2, \"i\", 1);\n          i0.ɵɵtext(3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"form\", 2, 3);\n          i0.ɵɵlistener(\"ngSubmit\", function PostFormComponent_Template_form_ngSubmit_4_listener() {\n            return ctx.savePost();\n          });\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"label\", 5);\n          i0.ɵɵtext(8, \"Titre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"input\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function PostFormComponent_Template_input_ngModelChange_9_listener($event) {\n            return ctx.post.title = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 7);\n          i0.ɵɵtext(12, \"Contenu\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"textarea\", 8);\n          i0.ɵɵlistener(\"ngModelChange\", function PostFormComponent_Template_textarea_ngModelChange_13_listener($event) {\n            return ctx.post.content = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"div\", 4)(15, \"label\", 9);\n          i0.ɵɵtext(16, \"URL de l'image\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"input\", 10);\n          i0.ɵɵlistener(\"ngModelChange\", function PostFormComponent_Template_input_ngModelChange_17_listener($event) {\n            return ctx.post.imageUrl = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"div\", 4)(19, \"label\", 11);\n          i0.ɵɵtext(20, \"Cat\\u00E9gorie\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"select\", 12);\n          i0.ɵɵlistener(\"ngModelChange\", function PostFormComponent_Template_select_ngModelChange_21_listener($event) {\n            return ctx.post.category = $event;\n          });\n          i0.ɵɵelementStart(22, \"option\", 13);\n          i0.ɵɵtext(23, \"Peinture\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"option\", 14);\n          i0.ɵɵtext(25, \"Sculpture\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"option\", 15);\n          i0.ɵɵtext(27, \"Photographie\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"option\", 16);\n          i0.ɵɵtext(29, \"Art Num\\u00E9rique\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(30, \"div\", 4)(31, \"label\", 17);\n          i0.ɵɵtext(32, \"Votre nom\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"input\", 18);\n          i0.ɵɵlistener(\"ngModelChange\", function PostFormComponent_Template_input_ngModelChange_33_listener($event) {\n            return ctx.post.author = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(34, \"div\", 19)(35, \"button\", 20);\n          i0.ɵɵelement(36, \"i\", 21);\n          i0.ɵɵtext(37);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"button\", 22);\n          i0.ɵɵlistener(\"click\", function PostFormComponent_Template_button_click_38_listener() {\n            return ctx.cancel();\n          });\n          i0.ɵɵelement(39, \"i\", 23);\n          i0.ɵɵtext(40, \" Annuler \");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          const _r0 = i0.ɵɵreference(5);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngClass\", ctx.isEditMode ? \"fa-edit\" : \"fa-plus\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isEditMode ? \"Modifier l'article\" : \"Nouvel article\", \" \");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngModel\", ctx.post.title)(\"disabled\", ctx.isSubmitting);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.post.content)(\"disabled\", ctx.isSubmitting);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.post.imageUrl)(\"disabled\", ctx.isSubmitting);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.post.category)(\"disabled\", ctx.isSubmitting);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngModel\", ctx.post.author)(\"disabled\", ctx.isSubmitting);\n          i0.ɵɵadvance(2);\n          i0.ɵɵpropertyInterpolate(\"title\", ctx.isEditMode ? \"Mettre \\u00E0 jour l'article\" : \"Cr\\u00E9er un nouvel article\");\n          i0.ɵɵproperty(\"disabled\", !_r0.valid || ctx.isSubmitting);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\" \", ctx.isSubmitting ? \"En cours...\" : ctx.isEditMode ? \"Mettre \\u00E0 jour\" : \"Cr\\u00E9er\", \" \");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.isSubmitting);\n        }\n      },\n      dependencies: [CommonModule, i3.NgClass, FormsModule, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, RouterModule],\n      styles: [\".form-container[_ngcontent-%COMP%] {\\n    max-width: 600px;\\n    margin: 20px auto;\\n    padding: 20px;\\n    background: #fff;\\n    border-radius: 8px;\\n    box-shadow: 0 2px 10px rgba(0,0,0,0.1);\\n  }\\n  \\n  h1[_ngcontent-%COMP%] {\\n    font-family: 'Playfair Display', serif;\\n    color: #2C3E50;\\n    text-align: center;\\n    margin-bottom: 30px;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n    display: block;\\n    font-weight: 600;\\n    color: #2C3E50;\\n    margin-bottom: 5px;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 10px;\\n    border: 1px solid #e9ecef;\\n    border-radius: 5px;\\n    font-size: 1rem;\\n    transition: border-color 0.3s ease;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus {\\n    outline: none;\\n    border-color: #D4A017;\\n  }\\n  \\n  .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%] {\\n    min-height: 150px;\\n    resize: vertical;\\n  }\\n  \\n  .form-actions[_ngcontent-%COMP%] {\\n    display: flex;\\n    gap: 10px;\\n    justify-content: flex-end;\\n  }\\n  \\n  .save-btn[_ngcontent-%COMP%] {\\n    background-color: #34C759;\\n    color: white;\\n    border: none;\\n    padding: 10px 20px;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease;\\n  }\\n  \\n  .save-btn[_ngcontent-%COMP%]:hover {\\n    background-color: #2ea44f;\\n  }\\n  \\n  .cancel-btn[_ngcontent-%COMP%] {\\n    background-color: #E74C3C;\\n    color: white;\\n    border: none;\\n    padding: 10px 20px;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    transition: background-color 0.3s ease;\\n  }\\n  \\n  .cancel-btn[_ngcontent-%COMP%]:hover {\\n    background-color: #c0392b;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wb3N0LWZvcm0vcG9zdC1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLHNDQUFzQztFQUN4Qzs7RUFFQTtJQUNFLHNDQUFzQztJQUN0QyxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLG1CQUFtQjtFQUNyQjs7RUFFQTtJQUNFLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGtCQUFrQjtFQUNwQjs7RUFFQTs7O0lBR0UsV0FBVztJQUNYLGFBQWE7SUFDYix5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixrQ0FBa0M7RUFDcEM7O0VBRUE7OztJQUdFLGFBQWE7SUFDYixxQkFBcUI7RUFDdkI7O0VBRUE7SUFDRSxpQkFBaUI7SUFDakIsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UsYUFBYTtJQUNiLFNBQVM7SUFDVCx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixzQ0FBc0M7RUFDeEM7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixzQ0FBc0M7RUFDeEM7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1jb250YWluZXIge1xyXG4gICAgbWF4LXdpZHRoOiA2MDBweDtcclxuICAgIG1hcmdpbjogMjBweCBhdXRvO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IHJnYmEoMCwwLDAsMC4xKTtcclxuICB9XHJcbiAgXHJcbiAgaDEge1xyXG4gICAgZm9udC1mYW1pbHk6ICdQbGF5ZmFpciBEaXNwbGF5Jywgc2VyaWY7XHJcbiAgICBjb2xvcjogIzJDM0U1MDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5mb3JtLWdyb3VwIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIC5mb3JtLWdyb3VwIGxhYmVsIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIGNvbG9yOiAjMkMzRTUwO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG4gIH1cclxuICBcclxuICAuZm9ybS1ncm91cCBpbnB1dCxcclxuICAuZm9ybS1ncm91cCB0ZXh0YXJlYSxcclxuICAuZm9ybS1ncm91cCBzZWxlY3Qge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2U5ZWNlZjtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjNzIGVhc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC5mb3JtLWdyb3VwIGlucHV0OmZvY3VzLFxyXG4gIC5mb3JtLWdyb3VwIHRleHRhcmVhOmZvY3VzLFxyXG4gIC5mb3JtLWdyb3VwIHNlbGVjdDpmb2N1cyB7XHJcbiAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjRDRBMDE3O1xyXG4gIH1cclxuICBcclxuICAuZm9ybS1ncm91cCB0ZXh0YXJlYSB7XHJcbiAgICBtaW4taGVpZ2h0OiAxNTBweDtcclxuICAgIHJlc2l6ZTogdmVydGljYWw7XHJcbiAgfVxyXG4gIFxyXG4gIC5mb3JtLWFjdGlvbnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMTBweDtcclxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgfVxyXG4gIFxyXG4gIC5zYXZlLWJ0biB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzRDNzU5O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC5zYXZlLWJ0bjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmVhNDRmO1xyXG4gIH1cclxuICBcclxuICAuY2FuY2VsLWJ0biB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTc0QzNDO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XHJcbiAgfVxyXG4gIFxyXG4gIC5jYW5jZWwtYnRuOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjMDM5MmI7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","FormsModule","RouterModule","PostFormComponent","constructor","route","router","postService","post","id","title","content","imageUrl","author","createdAt","category","likes","isLiked","isFavorite","comments","views","isEditMode","isSubmitting","snapshot","paramMap","get","post$","getPostById","ngOnInit","subscribe","savePost","_this","_asyncToGenerator","isFormValid","updatePost","Date","toISOString","addPost","navigate","error","console","cancel","i0","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","PostService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","PostFormComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","PostFormComponent_Template_form_ngSubmit_4_listener","PostFormComponent_Template_input_ngModelChange_9_listener","$event","PostFormComponent_Template_textarea_ngModelChange_13_listener","PostFormComponent_Template_input_ngModelChange_17_listener","PostFormComponent_Template_select_ngModelChange_21_listener","PostFormComponent_Template_input_ngModelChange_33_listener","PostFormComponent_Template_button_click_38_listener","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate1","ɵɵpropertyInterpolate","_r0","valid","i3","NgClass","i4","ɵNgNoValidate","NgSelectOption","ɵNgSelectMultipleOption","DefaultValueAccessor","SelectControlValueAccessor","NgControlStatus","NgControlStatusGroup","RequiredValidator","NgModel","NgForm","styles"],"sources":["C:\\Users\\ghada\\Desktop\\4eme_TWIN\\projet_Microservice\\frontend\\src\\app\\components\\post-form\\post-form.component.ts","C:\\Users\\ghada\\Desktop\\4eme_TWIN\\projet_Microservice\\frontend\\src\\app\\components\\post-form\\post-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { PostService } from '../../services/post.service';\nimport { Post } from '../../models/post.model';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-post-form',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule],\n  templateUrl: './post-form.component.html',\n  styleUrls: ['./post-form.component.css']\n})\nexport class PostFormComponent implements OnInit {\n  post: Post = { \n    id: 0, \n    title: '', \n    content: '', \n    imageUrl: '', \n    author: '', \n    createdAt: '', \n    category: 'Peinture', \n    likes: 0, \n    isLiked: false, \n    isFavorite: false, \n    comments: [],\n    views: 0\n  };\n  isEditMode = false;\n  post$: Observable<Post | undefined> | undefined;\n  isSubmitting = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private router: Router,\n    private postService: PostService\n  ) {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.isEditMode = true;\n      this.post$ = this.postService.getPostById(+id);\n    }\n  }\n\n  ngOnInit(): void {\n    if (this.post$ && this.isEditMode) {\n      this.post$.subscribe(post => {\n        if (post) {\n          this.post = { ...post };\n        }\n      });\n    }\n  }\n\n  async savePost(): Promise<void> {\n    if (this.isFormValid() && !this.isSubmitting) {\n      this.isSubmitting = true;\n      try {\n        if (this.isEditMode) {\n          await this.postService.updatePost(this.post.id, this.post);\n        } else {\n          this.post.createdAt = new Date().toISOString();\n          await this.postService.addPost(this.post);\n        }\n        this.router.navigate(['/']);\n      } catch (error) {\n        console.error('Error saving post:', error);\n      } finally {\n        this.isSubmitting = false;\n      }\n    }\n  }\n\n  cancel(): void {\n    this.router.navigate(['/']);\n  }\n\n  private isFormValid(): boolean {\n    return !!this.post.title && \n           !!this.post.content && \n           !!this.post.imageUrl && \n           !!this.post.author && \n           !!this.post.category;\n  }\n}","<!-- post-form.component.html -->\n<div class=\"form-container\">\n  <h1>\n    <i class=\"fas\" [ngClass]=\"isEditMode ? 'fa-edit' : 'fa-plus'\"></i>\n    {{ isEditMode ? 'Modifier l\\'article' : 'Nouvel article' }}\n  </h1>\n  <form (ngSubmit)=\"savePost()\" #postForm=\"ngForm\">\n    <div class=\"form-group\">\n      <label for=\"title\">Titre</label>\n      <input \n        type=\"text\" \n        id=\"title\" \n        [(ngModel)]=\"post.title\" \n        name=\"title\" \n        required\n        placeholder=\"Entrez le titre de l'article\"\n        [disabled]=\"isSubmitting\"\n      >\n    </div>\n    <div class=\"form-group\">\n      <label for=\"content\">Contenu</label>\n      <textarea \n        id=\"content\" \n        [(ngModel)]=\"post.content\" \n        name=\"content\" \n        required\n        placeholder=\"Rédigez le contenu de votre article ici...\"\n        [disabled]=\"isSubmitting\"\n      ></textarea>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"imageUrl\">URL de l'image</label>\n      <input \n        type=\"text\" \n        id=\"imageUrl\" \n        [(ngModel)]=\"post.imageUrl\" \n        name=\"imageUrl\" \n        required\n        placeholder=\"Collez l'URL de l'image\"\n        [disabled]=\"isSubmitting\"\n      >\n    </div>\n    <div class=\"form-group\">\n      <label for=\"category\">Catégorie</label>\n      <select \n        id=\"category\" \n        [(ngModel)]=\"post.category\" \n        name=\"category\" \n        required\n        [disabled]=\"isSubmitting\"\n      >\n        <option value=\"Peinture\">Peinture</option>\n        <option value=\"Sculpture\">Sculpture</option>\n        <option value=\"Photographie\">Photographie</option>\n        <option value=\"Art Numérique\">Art Numérique</option>\n      </select>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"author\">Votre nom</label>\n      <input \n        type=\"text\" \n        id=\"author\" \n        [(ngModel)]=\"post.author\" \n        name=\"author\" \n        required\n        placeholder=\"Entrez votre nom\"\n        [disabled]=\"isSubmitting\"\n      >\n    </div>\n    <div class=\"form-actions\">\n      <button \n        type=\"submit\" \n        class=\"save-btn\" \n        [disabled]=\"!postForm.valid || isSubmitting\"\n        title=\"{{isEditMode ? 'Mettre à jour l\\'article' : 'Créer un nouvel article'}}\"\n      >\n        <i class=\"fas fa-save\"></i>\n        {{ isSubmitting ? 'En cours...' : (isEditMode ? 'Mettre à jour' : 'Créer') }}\n      </button>\n      <button \n        type=\"button\" \n        class=\"cancel-btn\" \n        (click)=\"cancel()\"\n        [disabled]=\"isSubmitting\"\n        title=\"Annuler et retourner\"\n      >\n        <i class=\"fas fa-times\"></i>\n        Annuler\n      </button>\n    </div>\n  </form>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}