{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nexport let AdminComponent = class AdminComponent {\n  constructor(postService) {\n    this.postService = postService;\n    this.posts = [];\n    this.defaultImage = 'https://via.placeholder.com/200'; // Fallback image\n  }\n\n  ngOnInit() {\n    this.loadPosts();\n  }\n  loadPosts() {\n    this.postService.getPosts().subscribe({\n      next: posts => this.posts = posts,\n      error: err => console.error('Erreur lors du chargement des articles:', err)\n    });\n  }\n  deletePost(id) {\n    if (confirm('Êtes-vous sûr de vouloir supprimer cet article ?')) {\n      this.postService.deletePost(id);\n      this.posts = this.posts.filter(post => post.id !== id); // Update UI immediately\n    }\n  }\n};\n\nAdminComponent = __decorate([Component({\n  selector: 'app-admin',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  template: `\n    <div class=\"admin-container\">\n      <h1>Administration des articles</h1>\n      <section class=\"posts-list\">\n        <h2>Articles existants</h2>\n        <div class=\"posts-grid\">\n          @for (post of posts; track post.id) {\n            <article class=\"post-card\">\n              <div class=\"post-image\" [style.backgroundImage]=\"'url(' + (post.imageUrl || defaultImage) + ')'\"></div>\n              <div class=\"post-info\">\n                <span class=\"category\">{{ post.category || 'Sans catégorie' }}</span>\n                <h3>{{ post.title }}</h3>\n                <p class=\"content\">{{ (post.content | slice:0:100) || 'Contenu indisponible' }}...</p>\n                <p class=\"meta\">Par {{ post.author || 'Anonyme' }} le {{ post.createdAt | date:'mediumDate' }}</p>\n                <div class=\"actions\">\n                  <a [routerLink]=\"['/edit-post', post.id]\" class=\"edit-btn\">\n                    <i class=\"fas fa-edit\"></i> Modifier\n                  </a>\n                  <button class=\"delete-btn\" (click)=\"deletePost(post.id)\" aria-label=\"Supprimer l'article\">\n                    <i class=\"fas fa-trash\"></i> Supprimer\n                  </button>\n                </div>\n              </div>\n            </article>\n          } @empty {\n            <p class=\"no-posts\">Aucun article disponible pour le moment.</p>\n          }\n        </div>\n      </section>\n    </div>\n  `,\n  styles: [`\n    .admin-container {\n      max-width: 1200px;\n      margin: 0 auto;\n      padding: 2.5rem 1.25rem;\n    }\n\n    h1 {\n      font-family: 'Playfair Display', serif;\n      font-size: 2.5rem;\n      color: #2C3E50;\n      margin-bottom: 2.5rem;\n      text-align: center;\n    }\n\n    .posts-list {\n      background: #fff;\n      padding: 1.875rem;\n      border-radius: 12px;\n      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n    }\n\n    h2 {\n      font-family: 'Playfair Display', serif;\n      color: #2C3E50;\n      margin-bottom: 1.25rem;\n    }\n\n    .posts-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n      gap: 1.875rem;\n    }\n\n    .post-card {\n      border-radius: 12px;\n      overflow: hidden;\n      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n      transition: transform 0.3s ease;\n    }\n\n    .post-card:hover {\n      transform: translateY(-5px);\n    }\n\n    .post-image {\n      height: 200px;\n      background-size: cover;\n      background-position: center;\n    }\n\n    .post-info {\n      padding: 1.25rem;\n    }\n\n    .category {\n      display: inline-block;\n      background: #D4A017;\n      color: #fff;\n      padding: 0.3125rem 0.625rem;\n      border-radius: 15px;\n      font-size: 0.8rem;\n      margin-bottom: 0.625rem;\n    }\n\n    .post-info h3 {\n      margin: 0;\n      font-family: 'Playfair Display', serif;\n      font-size: 1.3rem;\n      color: #2C3E50;\n    }\n\n    .content {\n      color: #7f8c8d;\n      margin: 0.625rem 0;\n    }\n\n    .meta {\n      font-size: 0.9rem;\n      color: #95a5a6;\n      margin-bottom: 0.9375rem;\n    }\n\n    .actions {\n      display: flex;\n      gap: 0.625rem;\n    }\n\n    .edit-btn,\n    .delete-btn {\n      flex: 1;\n      padding: 0.625rem;\n      border-radius: 5px;\n      cursor: pointer;\n      transition: background-color 0.3s ease;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 0.3125rem;\n      font-size: 0.9rem;\n    }\n\n    .edit-btn {\n      background: #D4A017;\n      color: #fff;\n      text-decoration: none;\n    }\n\n    .edit-btn:hover {\n      background: #b88b14;\n    }\n\n    .delete-btn {\n      background: #E74C3C;\n      color: #fff;\n      border: none;\n    }\n\n    .delete-btn:hover {\n      background: #c0392b;\n    }\n\n    .no-posts {\n      text-align: center;\n      color: #7f8c8d;\n      font-size: 1rem;\n    }\n\n    @media (max-width: 768px) {\n      .posts-grid {\n        grid-template-columns: 1fr;\n      }\n    }\n  `]\n})], AdminComponent);","map":{"version":3,"names":["Component","CommonModule","RouterModule","AdminComponent","constructor","postService","posts","defaultImage","ngOnInit","loadPosts","getPosts","subscribe","next","error","err","console","deletePost","id","confirm","filter","post","__decorate","selector","standalone","imports","template","styles"],"sources":["C:\\Users\\ghada\\Desktop\\4eme_TWIN\\projet_Microservice\\frontend\\src\\app\\components\\admin\\admin.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { PostService } from '../../services/post.service';\nimport { Post } from '../../models/post.model';\n\n@Component({\n  selector: 'app-admin',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  template: `\n    <div class=\"admin-container\">\n      <h1>Administration des articles</h1>\n      <section class=\"posts-list\">\n        <h2>Articles existants</h2>\n        <div class=\"posts-grid\">\n          @for (post of posts; track post.id) {\n            <article class=\"post-card\">\n              <div class=\"post-image\" [style.backgroundImage]=\"'url(' + (post.imageUrl || defaultImage) + ')'\"></div>\n              <div class=\"post-info\">\n                <span class=\"category\">{{ post.category || 'Sans catégorie' }}</span>\n                <h3>{{ post.title }}</h3>\n                <p class=\"content\">{{ (post.content | slice:0:100) || 'Contenu indisponible' }}...</p>\n                <p class=\"meta\">Par {{ post.author || 'Anonyme' }} le {{ post.createdAt | date:'mediumDate' }}</p>\n                <div class=\"actions\">\n                  <a [routerLink]=\"['/edit-post', post.id]\" class=\"edit-btn\">\n                    <i class=\"fas fa-edit\"></i> Modifier\n                  </a>\n                  <button class=\"delete-btn\" (click)=\"deletePost(post.id)\" aria-label=\"Supprimer l'article\">\n                    <i class=\"fas fa-trash\"></i> Supprimer\n                  </button>\n                </div>\n              </div>\n            </article>\n          } @empty {\n            <p class=\"no-posts\">Aucun article disponible pour le moment.</p>\n          }\n        </div>\n      </section>\n    </div>\n  `,\n  styles: [`\n    .admin-container {\n      max-width: 1200px;\n      margin: 0 auto;\n      padding: 2.5rem 1.25rem;\n    }\n\n    h1 {\n      font-family: 'Playfair Display', serif;\n      font-size: 2.5rem;\n      color: #2C3E50;\n      margin-bottom: 2.5rem;\n      text-align: center;\n    }\n\n    .posts-list {\n      background: #fff;\n      padding: 1.875rem;\n      border-radius: 12px;\n      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n    }\n\n    h2 {\n      font-family: 'Playfair Display', serif;\n      color: #2C3E50;\n      margin-bottom: 1.25rem;\n    }\n\n    .posts-grid {\n      display: grid;\n      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n      gap: 1.875rem;\n    }\n\n    .post-card {\n      border-radius: 12px;\n      overflow: hidden;\n      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n      transition: transform 0.3s ease;\n    }\n\n    .post-card:hover {\n      transform: translateY(-5px);\n    }\n\n    .post-image {\n      height: 200px;\n      background-size: cover;\n      background-position: center;\n    }\n\n    .post-info {\n      padding: 1.25rem;\n    }\n\n    .category {\n      display: inline-block;\n      background: #D4A017;\n      color: #fff;\n      padding: 0.3125rem 0.625rem;\n      border-radius: 15px;\n      font-size: 0.8rem;\n      margin-bottom: 0.625rem;\n    }\n\n    .post-info h3 {\n      margin: 0;\n      font-family: 'Playfair Display', serif;\n      font-size: 1.3rem;\n      color: #2C3E50;\n    }\n\n    .content {\n      color: #7f8c8d;\n      margin: 0.625rem 0;\n    }\n\n    .meta {\n      font-size: 0.9rem;\n      color: #95a5a6;\n      margin-bottom: 0.9375rem;\n    }\n\n    .actions {\n      display: flex;\n      gap: 0.625rem;\n    }\n\n    .edit-btn,\n    .delete-btn {\n      flex: 1;\n      padding: 0.625rem;\n      border-radius: 5px;\n      cursor: pointer;\n      transition: background-color 0.3s ease;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 0.3125rem;\n      font-size: 0.9rem;\n    }\n\n    .edit-btn {\n      background: #D4A017;\n      color: #fff;\n      text-decoration: none;\n    }\n\n    .edit-btn:hover {\n      background: #b88b14;\n    }\n\n    .delete-btn {\n      background: #E74C3C;\n      color: #fff;\n      border: none;\n    }\n\n    .delete-btn:hover {\n      background: #c0392b;\n    }\n\n    .no-posts {\n      text-align: center;\n      color: #7f8c8d;\n      font-size: 1rem;\n    }\n\n    @media (max-width: 768px) {\n      .posts-grid {\n        grid-template-columns: 1fr;\n      }\n    }\n  `]\n})\nexport class AdminComponent implements OnInit {\n  posts: Post[] = [];\n  defaultImage = 'https://via.placeholder.com/200'; // Fallback image\n\n  constructor(private postService: PostService) {}\n\n  ngOnInit(): void {\n    this.loadPosts();\n  }\n\n  private loadPosts(): void {\n    this.postService.getPosts().subscribe({\n      next: (posts) => this.posts = posts,\n      error: (err) => console.error('Erreur lors du chargement des articles:', err)\n    });\n  }\n\n  deletePost(id: number): void {\n    if (confirm('Êtes-vous sûr de vouloir supprimer cet article ?')) {\n      this.postService.deletePost(id);\n      this.posts = this.posts.filter(post => post.id !== id); // Update UI immediately\n    }\n  }\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,YAAY,QAAQ,iBAAiB;AA8KvC,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAIzBC,YAAoBC,WAAwB;IAAxB,KAAAA,WAAW,GAAXA,WAAW;IAH/B,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,YAAY,GAAG,iCAAiC,CAAC,CAAC;EAEH;;EAE/CC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,EAAE;EAClB;EAEQA,SAASA,CAAA;IACf,IAAI,CAACJ,WAAW,CAACK,QAAQ,EAAE,CAACC,SAAS,CAAC;MACpCC,IAAI,EAAGN,KAAK,IAAK,IAAI,CAACA,KAAK,GAAGA,KAAK;MACnCO,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACF,KAAK,CAAC,yCAAyC,EAAEC,GAAG;KAC7E,CAAC;EACJ;EAEAE,UAAUA,CAACC,EAAU;IACnB,IAAIC,OAAO,CAAC,kDAAkD,CAAC,EAAE;MAC/D,IAAI,CAACb,WAAW,CAACW,UAAU,CAACC,EAAE,CAAC;MAC/B,IAAI,CAACX,KAAK,GAAG,IAAI,CAACA,KAAK,CAACa,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACH,EAAE,KAAKA,EAAE,CAAC,CAAC,CAAC;;EAE5D;CACD;;AAvBYd,cAAc,GAAAkB,UAAA,EA1K1BrB,SAAS,CAAC;EACTsB,QAAQ,EAAE,WAAW;EACrBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACvB,YAAY,EAAEC,YAAY,CAAC;EACrCuB,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA8BT;EACDC,MAAM,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAqIR;CACF,CAAC,C,EACWvB,cAAc,CAuB1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}